{"version":3,"sources":["node_modules/promise-polyfill/src/finally.js","node_modules/promise-polyfill/src/index.js","node_modules/promise-polyfill/src/polyfill.js","src/helpers.js","node_modules/es6-proxy-polyfill/dist/es6-proxy-polyfill.js","node_modules/custom-event-polyfill/polyfill.js","node_modules/whatwg-fetch/fetch.js","src/store.js","src/core.js","src/triggers/event.js","src/triggers/link.js","src/triggers/form.js","src/triggers/waiting.js","src/triggers/mutation.js","src/triggers/stateChanged.js","src/mutations.js","uijx.js"],"names":["finallyConstructor","callback","constructor","then","value","resolve","reason","reject","Promise","setTimeoutFunc","setTimeout","isArray","x","Boolean","length","noop","bind","fn","thisArg","apply","arguments","TypeError","_state","_handled","_value","undefined","_deferreds","doResolve","handle","self","deferred","_immediateFn","cb","onFulfilled","onRejected","ret","e","promise","push","newValue","finale","_unhandledRejectionFn","i","len","Handler","done","ex","prototype","prom","promiseFinally","all","arr","args","Array","slice","call","remaining","res","val","race","setImmediate","err","console","warn","globalNS","window","global","Error","evaluateAndReturn","expression","ctx","f","Function","evaluateAndPromise","data","evaluate","crawl","n","firstElementChild","nextElementSibling","getDataAttribute","el","name","dataset","toCamelCase","getAttribute","setDataAttribute","setAttribute","str","replace","$1","toUpperCase","toLowerCase","toKebabCase","serializeForm","forEach","key","encodeUriParameters","params","esc","encodeURIComponent","concat","join","support","searchParams","iterable","Symbol","blob","Blob","formData","arrayBuffer","isDataView","obj","DataView","isPrototypeOf","viewClasses","isArrayBufferView","ArrayBuffer","isView","indexOf","Object","toString","normalizeName","String","test","normalizeValue","iteratorFor","items","iterator","next","shift","Headers","headers","map","append","header","getOwnPropertyNames","consumed","body","bodyUsed","fileReaderReady","reader","onload","result","onerror","error","readBlobAsArrayBuffer","FileReader","readAsArrayBuffer","readBlobAsText","readAsText","readArrayBufferAsText","buf","view","Uint8Array","chars","fromCharCode","bufferClone","byteLength","set","buffer","Body","_initBody","_bodyInit","_bodyText","_bodyBlob","FormData","_bodyFormData","URLSearchParams","_bodyArrayBuffer","get","type","rejected","text","decode","json","JSON","parse","oldValue","has","hasOwnProperty","keys","values","entries","methods","normalizeMethod","method","upcased","Request","input","options","url","credentials","mode","signal","referrer","form","trim","split","bytes","decodeURIComponent","parseHeaders","rawHeaders","line","parts","Response","bodyInit","status","ok","statusText","clone","response","redirectStatuses","redirect","RangeError","location","DOMException","message","stack","create","fetch","init","request","aborted","xhr","XMLHttpRequest","abortXhr","abort","getAllResponseHeaders","responseURL","responseText","ontimeout","onabort","open","withCredentials","responseType","setRequestHeader","addEventListener","onreadystatechange","readyState","removeEventListener","send","polyfill","Store","$","actions","state","Proxy","dispatch","document","action","payload","TriggerAttribRE","Engine","root","mutations","triggers","tags","store","mount","t","m","$dom","subject","prop","createMutableElement","getElementById","$el","$data","q","query","querySelector","fetchText","r","fetchJson","$state","$dispatch","s","task","slot","isArrowSyntax","getEmptyContext","tasks","d","run","event","dispatchEvent","CustomEvent","detail","bubbles","id","_uijx_initiated","attributes","a","info","TriggerInfo","trigger","target","attachTo","RegExp","nodeName","ev","waiting","attribute","matches","exec","modifiers","after","before","rawModifiers","modifier","hasModifier","preventDefault","href","p","content","catch","fdata","req","stringify","containModifiers","SHOW","style","display","mutation","TOGGLE","ADDCLASS","classList","add","RMCLASS","remove","TOGGLECLASS","toggle","VISIBLE","visibility","STYLE","CLASSES","ATTRIB","VALUE","TEXT","innerText","HTML","innerHTML","BEFORE","insertAdjacentHTML","AFTER","APPEND","PREPEND","Uijx","registerTrigger","link","stateChanged","registerMutation"],"mappings":"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","file":"uijx.js","sourceRoot":"..","sourcesContent":["/**\n * @this {Promise}\n */\nfunction finallyConstructor(callback) {\n  var constructor = this.constructor;\n  return this.then(\n    function(value) {\n      // @ts-ignore\n      return constructor.resolve(callback()).then(function() {\n        return value;\n      });\n    },\n    function(reason) {\n      // @ts-ignore\n      return constructor.resolve(callback()).then(function() {\n        // @ts-ignore\n        return constructor.reject(reason);\n      });\n    }\n  );\n}\n\nexport default finallyConstructor;\n","import promiseFinally from './finally';\n\n// Store setTimeout reference so promise-polyfill will be unaffected by\n// other code modifying setTimeout (like sinon.useFakeTimers())\nvar setTimeoutFunc = setTimeout;\n\nfunction isArray(x) {\n  return Boolean(x && typeof x.length !== 'undefined');\n}\n\nfunction noop() {}\n\n// Polyfill for Function.prototype.bind\nfunction bind(fn, thisArg) {\n  return function() {\n    fn.apply(thisArg, arguments);\n  };\n}\n\n/**\n * @constructor\n * @param {Function} fn\n */\nfunction Promise(fn) {\n  if (!(this instanceof Promise))\n    throw new TypeError('Promises must be constructed via new');\n  if (typeof fn !== 'function') throw new TypeError('not a function');\n  /** @type {!number} */\n  this._state = 0;\n  /** @type {!boolean} */\n  this._handled = false;\n  /** @type {Promise|undefined} */\n  this._value = undefined;\n  /** @type {!Array<!Function>} */\n  this._deferreds = [];\n\n  doResolve(fn, this);\n}\n\nfunction handle(self, deferred) {\n  while (self._state === 3) {\n    self = self._value;\n  }\n  if (self._state === 0) {\n    self._deferreds.push(deferred);\n    return;\n  }\n  self._handled = true;\n  Promise._immediateFn(function() {\n    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n      return;\n    }\n    var ret;\n    try {\n      ret = cb(self._value);\n    } catch (e) {\n      reject(deferred.promise, e);\n      return;\n    }\n    resolve(deferred.promise, ret);\n  });\n}\n\nfunction resolve(self, newValue) {\n  try {\n    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n    if (newValue === self)\n      throw new TypeError('A promise cannot be resolved with itself.');\n    if (\n      newValue &&\n      (typeof newValue === 'object' || typeof newValue === 'function')\n    ) {\n      var then = newValue.then;\n      if (newValue instanceof Promise) {\n        self._state = 3;\n        self._value = newValue;\n        finale(self);\n        return;\n      } else if (typeof then === 'function') {\n        doResolve(bind(then, newValue), self);\n        return;\n      }\n    }\n    self._state = 1;\n    self._value = newValue;\n    finale(self);\n  } catch (e) {\n    reject(self, e);\n  }\n}\n\nfunction reject(self, newValue) {\n  self._state = 2;\n  self._value = newValue;\n  finale(self);\n}\n\nfunction finale(self) {\n  if (self._state === 2 && self._deferreds.length === 0) {\n    Promise._immediateFn(function() {\n      if (!self._handled) {\n        Promise._unhandledRejectionFn(self._value);\n      }\n    });\n  }\n\n  for (var i = 0, len = self._deferreds.length; i < len; i++) {\n    handle(self, self._deferreds[i]);\n  }\n  self._deferreds = null;\n}\n\n/**\n * @constructor\n */\nfunction Handler(onFulfilled, onRejected, promise) {\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, self) {\n  var done = false;\n  try {\n    fn(\n      function(value) {\n        if (done) return;\n        done = true;\n        resolve(self, value);\n      },\n      function(reason) {\n        if (done) return;\n        done = true;\n        reject(self, reason);\n      }\n    );\n  } catch (ex) {\n    if (done) return;\n    done = true;\n    reject(self, ex);\n  }\n}\n\nPromise.prototype['catch'] = function(onRejected) {\n  return this.then(null, onRejected);\n};\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  // @ts-ignore\n  var prom = new this.constructor(noop);\n\n  handle(this, new Handler(onFulfilled, onRejected, prom));\n  return prom;\n};\n\nPromise.prototype['finally'] = promiseFinally;\n\nPromise.all = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!isArray(arr)) {\n      return reject(new TypeError('Promise.all accepts an array'));\n    }\n\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      try {\n        if (val && (typeof val === 'object' || typeof val === 'function')) {\n          var then = val.then;\n          if (typeof then === 'function') {\n            then.call(\n              val,\n              function(val) {\n                res(i, val);\n              },\n              reject\n            );\n            return;\n          }\n        }\n        args[i] = val;\n        if (--remaining === 0) {\n          resolve(args);\n        }\n      } catch (ex) {\n        reject(ex);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.resolve = function(value) {\n  if (value && typeof value === 'object' && value.constructor === Promise) {\n    return value;\n  }\n\n  return new Promise(function(resolve) {\n    resolve(value);\n  });\n};\n\nPromise.reject = function(value) {\n  return new Promise(function(resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!isArray(arr)) {\n      return reject(new TypeError('Promise.race accepts an array'));\n    }\n\n    for (var i = 0, len = arr.length; i < len; i++) {\n      Promise.resolve(arr[i]).then(resolve, reject);\n    }\n  });\n};\n\n// Use polyfill for setImmediate for performance gains\nPromise._immediateFn =\n  // @ts-ignore\n  (typeof setImmediate === 'function' &&\n    function(fn) {\n      // @ts-ignore\n      setImmediate(fn);\n    }) ||\n  function(fn) {\n    setTimeoutFunc(fn, 0);\n  };\n\nPromise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n  if (typeof console !== 'undefined' && console) {\n    console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n  }\n};\n\nexport default Promise;\n","import Promise from './index';\nimport promiseFinally from './finally';\n\n/** @suppress {undefinedVars} */\nvar globalNS = (function() {\n  // the only reliable means to get the global object is\n  // `Function('return this')()`\n  // However, this causes CSP violations in Chrome apps.\n  if (typeof self !== 'undefined') {\n    return self;\n  }\n  if (typeof window !== 'undefined') {\n    return window;\n  }\n  if (typeof global !== 'undefined') {\n    return global;\n  }\n  throw new Error('unable to locate global object');\n})();\n\nif (!('Promise' in globalNS)) {\n  globalNS['Promise'] = Promise;\n} else if (!globalNS.Promise.prototype['finally']) {\n  globalNS.Promise.prototype['finally'] = promiseFinally;\n}\n","import 'promise-polyfill/src/polyfill';\r\n\r\nexport function evaluateAndReturn(expression, ctx) {\r\n    let f = new Function('c', 'with (c) { return ' + expression + ' }');\r\n    return f(ctx);\r\n}\r\n\r\nexport function evaluateAndPromise(expression, ctx) {\r\n    let data = (new Function('c', 'with (c) { return ' + expression + ' }'))(ctx);\r\n    return Promise.resolve(data);\r\n}\r\n\r\nexport function evaluate(expression, ctx) {\r\n    (new Function('c', 'with (c) { ' + expression + ' }'))(ctx);\r\n}\r\n\r\nexport function crawl(e, callback) {\r\n    if(callback(e) === false) return;\r\n    let n = e.firstElementChild;\r\n    while (n) {\r\n        crawl(n, callback);\r\n        n = n.nextElementSibling;\r\n    }\r\n}\r\n\r\nexport function getDataAttribute(el, name) {\r\n    if(el.dataset !== undefined) {\r\n        return el.dataset[toCamelCase(name)];\r\n    }else {\r\n        return el.getAttribute(\"data-\"+name);\r\n    }\r\n}\r\n\r\nexport function setDataAttribute(el, name, value) {\r\n    if(el.dataset !== undefined) {\r\n        el.dataset[toCamelCase(name)] = value; \r\n    }else{\r\n        el.setAttribute(\"data-\"+name, value);\r\n    }\r\n}\r\n\r\nexport function toCamelCase (str) {\r\n    return str\r\n        .replace(/\\-(.)/g, function($1) { return $1.toUpperCase(); })\r\n        .replace(/\\-/g, '')\r\n        .replace(/^(.)/, function($1) { return $1.toLowerCase(); })\r\n    ;\r\n}\r\n\r\nexport function toKebabCase(str) {\r\n    return str\r\n        .replace(/([a-z])([A-Z])/g, '$1-$2')\r\n        .replace(/[_\\s]/, '-')\r\n        .toLowerCase()\r\n    ;\r\n}\r\n\r\nexport function serializeForm(f) {\r\n    let data = {};\r\n    f.forEach(function(value, key){\r\n        data[key] = value;\r\n    });\r\n    return data;\r\n}\r\n\r\nexport function encodeUriParameters(data) {\r\n    let params = [];\r\n    var esc = encodeURIComponent;\r\n    for(const key in data) {\r\n        params.concat(esc(key) + '=' + esc(data[key]));\r\n    }\r\n\r\n    return params.join('&');\r\n}\r\n","/**\n * ES6 Proxy Polyfill\n * @version 2.0.1\n * @author Ambit Tsai <ambit_tsai@qq.com>\n * @license Apache-2.0\n * @see {@link https://github.com/ambit-tsai/es6-proxy-polyfill}\n */\n!function(t,n){\"function\"==typeof define&&define.amd?define(n(t)):\"object\"==typeof module&&module.exports?module.exports=n(t):t.Proxy||(t.Proxy=n(t))}(\"object\"==typeof globalThis&&globalThis||\"object\"==typeof window&&window||\"object\"==typeof global&&global||\"object\"==typeof self&&self||this,function(t){var a,s=\"[[ProxyTarget]]\",u=\"[[ProxyHandler]]\",f=\"[[Get]]\",p=\"[[Set]]\",y=\"[[Call]]\",l=\"[[Construct]]\",e=t.Object,h=e.defineProperty,v=e.defineProperties,g=e.getPrototypeOf,b=e.getOwnPropertyDescriptor,d=!!v&&/\\[native code\\]/.test(v.toString());function r(t,n){if(this instanceof r)return o(t,n).proxy;P(\"Constructor Proxy requires 'new'\")}function o(t,n){x(t)&&x(n)||P(\"Cannot create proxy with a non-object as target or handler\");var e=new w(t,n);return{proxy:(\"function\"==typeof t?function c(t){var n=t[s];function e(){return this instanceof e?t[l](arguments,e):t[y](this,arguments)}if(e.prototype=n.prototype,d){var r=O(t),o=m(g(n),r);for(var i in T(e,o),r=_(n,t))j(e,i)&&delete r[i];v(e,r)}else C(e,n);return e}:t instanceof Array?function o(e){var t,n,r=e[s];d&&((t=O(e)).concat.get=function(){var t=e[f](\"concat\",this);return t===Array.prototype.concat?t.bind(r):t},n=m(g(r),t));return(t=_(r,e)).length.set=function(t){var n=t-r.length;e[p](\"length\",t,this),n&&function f(t,n,e){var r=e[s];if(0<t)for(var o=r.length,i=o-t;i<o;++i){var c=b(n,i);c?h(r,i,c):r[i]=a,c=k(r,i,e),h(n,i,c)}else for(var u=(i=r.length)-t;i<u;++i)delete n[i]}(n,this,e)},m(n,t)}:function i(t){var n,e,r=t[s];d&&(n=O(t),e=m(g(r),n));return n=_(r,t),m(e,n)})(e),revoke:function(){e[s]=a,e[u]=a}}}function w(t,n){this[s]=t,this[u]=n}function c(t,n){t||P(\"Cannot perform '\"+n+\"' on a proxy that has been revoked\")}function P(t){throw new TypeError(t)}function x(t){return t&&(\"object\"==typeof t||\"function\"==typeof t)}function j(t,n){return e.prototype.hasOwnProperty.call(t,n)}r.revocable=function(t,n){return this instanceof r.revocable&&P(\"Proxy.revocable is not a constructor\"),o(t,n)},w.prototype[f]=function(t,n){var e=this[u];return c(e,\"get\"),e.get==a?this[s][t]:\"function\"==typeof e.get?e.get(this[s],t,n):void P(\"Trap 'get' is not a function: \"+e.get)},w.prototype[p]=function(t,n,e){var r=this[u];if(c(r,\"set\"),r.set==a)this[s][t]=n;else if(\"function\"==typeof r.set){r.set(this[s],t,n,e)||P(\"Trap 'set' returned false for property '\"+t+\"'\")}else P(\"Trap 'set' is not a function: \"+r.set)},w.prototype[y]=function(t,n){var e=this[u];return c(e,\"apply\"),e.apply==a?this[s].apply(t,n):\"function\"==typeof e.apply?e.apply(this[s],t,n):void P(\"Trap 'apply' is not a function: \"+e.apply)},w.prototype[l]=function(t,n){var e,r=this[u];if(c(r,\"construct\"),r.construct==a?e=function i(t,n){for(var e=[],r=0,o=n.length;r<o;++r)e.push(\"args[\"+r+\"]\");return new Function(\"Ctor\",\"args\",\"return new Ctor(\"+e.join(\", \")+\")\")(t,n)}(this[s],t):\"function\"==typeof r.construct?e=r.construct(this[s],t,n):P(\"Trap 'construct' is not a function: \"+r.construct),x(e))return e;P(\"Trap 'construct' returned non-object: \"+e)};var i=e.getOwnPropertyNames||function(t){var n=[];for(var e in t)j(t,e)&&n.push(e);return n},T=e.setPrototypeOf||function(t,n){return t.__proto__=n,t},m=d?e.create:function(t,n){return v({},n)},C=e.assign||function(t,n){for(var e in n)j(n,e)&&(t[e]=n[e]);return t};function O(t){for(var n={},e=t[s];e=g(e);){var r=_(e,t);C(n,r)}return n}function _(t,n){for(var e=i(t),r={},o=e.length-1;0<=o;--o)r[e[o]]=k(t,e[o],n);return r}function k(t,n,e){var r=b(t,n);return{get:function(){return e[f](n,this)},set:function(t){e[p](n,t,this)},enumerable:r.enumerable,configurable:r.configurable}}return r});","// Polyfill for creating CustomEvents on IE9/10/11\n\n// code pulled from:\n// https://github.com/d4tocchini/customevent-polyfill\n// https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent#Polyfill\n\n(function() {\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  try {\n    var ce = new window.CustomEvent('test', { cancelable: true });\n    ce.preventDefault();\n    if (ce.defaultPrevented !== true) {\n      // IE has problems with .preventDefault() on custom events\n      // http://stackoverflow.com/questions/23349191\n      throw new Error('Could not prevent default');\n    }\n  } catch (e) {\n    var CustomEvent = function(event, params) {\n      var evt, origPrevent;\n      params = params || {};\n      params.bubbles = !!params.bubbles;\n      params.cancelable = !!params.cancelable;\n\n      evt = document.createEvent('CustomEvent');\n      evt.initCustomEvent(\n        event,\n        params.bubbles,\n        params.cancelable,\n        params.detail\n      );\n      origPrevent = evt.preventDefault;\n      evt.preventDefault = function() {\n        origPrevent.call(this);\n        try {\n          Object.defineProperty(this, 'defaultPrevented', {\n            get: function() {\n              return true;\n            }\n          });\n        } catch (e) {\n          this.defaultPrevented = true;\n        }\n      };\n      return evt;\n    };\n\n    CustomEvent.prototype = window.Event.prototype;\n    window.CustomEvent = CustomEvent; // expose definition to window\n  }\n})();\n","var support = {\n  searchParams: 'URLSearchParams' in self,\n  iterable: 'Symbol' in self && 'iterator' in Symbol,\n  blob:\n    'FileReader' in self &&\n    'Blob' in self &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in self,\n  arrayBuffer: 'ArrayBuffer' in self\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n    throw new TypeError('Invalid character in header field name')\n  }\n  return name.toLowerCase()\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nexport function Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    this._bodyInit = body\n    if (!body) {\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('content-type')) {\n      if (typeof body === 'string') {\n        this.headers.set('content-type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('content-type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n\n    this.arrayBuffer = function() {\n      if (this._bodyArrayBuffer) {\n        return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n      } else {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nexport function Request(input, options) {\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n    var parts = line.split(':')\n    var key = parts.shift().trim()\n    if (key) {\n      var value = parts.join(':').trim()\n      headers.append(key, value)\n    }\n  })\n  return headers\n}\n\nBody.call(Request.prototype)\n\nexport function Response(bodyInit, options) {\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = 'statusText' in options ? options.statusText : 'OK'\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 0, statusText: ''})\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nexport var DOMException = self.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\nexport function fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    var xhr = new XMLHttpRequest()\n\n    function abortXhr() {\n      xhr.abort()\n    }\n\n    xhr.onload = function() {\n      var options = {\n        status: xhr.status,\n        statusText: xhr.statusText,\n        headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n      }\n      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n      var body = 'response' in xhr ? xhr.response : xhr.responseText\n      resolve(new Response(body, options))\n    }\n\n    xhr.onerror = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.ontimeout = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.onabort = function() {\n      reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    xhr.open(request.method, request.url, true)\n\n    if (request.credentials === 'include') {\n      xhr.withCredentials = true\n    } else if (request.credentials === 'omit') {\n      xhr.withCredentials = false\n    }\n\n    if ('responseType' in xhr && support.blob) {\n      xhr.responseType = 'blob'\n    }\n\n    request.headers.forEach(function(value, name) {\n      xhr.setRequestHeader(name, value)\n    })\n\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n\n      xhr.onreadystatechange = function() {\n        // DONE (success or failure)\n        if (xhr.readyState === 4) {\n          request.signal.removeEventListener('abort', abortXhr)\n        }\n      }\n    }\n\n    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n  })\n}\n\nfetch.polyfill = true\n\nif (!self.fetch) {\n  self.fetch = fetch\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n}\n","import Proxy from 'es6-proxy-polyfill/dist/es6-proxy-polyfill';\r\n\r\nexport default class Store {\r\n    constructor($, params) {\r\n        let self = this;\r\n\r\n        self.actions = params.hasOwnProperty('actions') ? params.actions : {};\r\n        self.state = new Proxy(params.state || {}, {\r\n            set(state, key, value) {\r\n\r\n                state[key] = value;\r\n\r\n                $.dispatch(document, 'state-change', { state: key, value: value  });\r\n\r\n                return true;\r\n            }\r\n        });\r\n    }\r\n\r\n    dispatch (action, payload) {\r\n        let self = this;\r\n        if(typeof self.actions[action] !== 'function') {\r\n            throw new Error('Action ' + action +' doesn\\'t exist.');\r\n        }\r\n\r\n        self.actions[action](self.state, payload);\r\n    }\r\n}","import {getDataAttribute, toCamelCase, toKebabCase, evaluate, evaluateAndReturn, crawl, evaluateAndPromise } from './helpers';\r\nimport Proxy from 'es6-proxy-polyfill/dist/es6-proxy-polyfill';\r\nimport \"custom-event-polyfill\";\r\nimport 'whatwg-fetch';\r\nimport Store from './store';\r\n\r\nconst TriggerAttribRE = /^data-on:([a-zA-Z0-9\\-]+)(\\.[a-zA-Z\\.\\-]*)?$/;\r\n\r\nexport class Engine {\r\n\r\n    constructor(root) {\r\n        this.root = root;\r\n        \r\n        this.mutations = {};\r\n        this.triggers = {};\r\n        this.tags = {};\r\n        this.store = null;\r\n    }\r\n\r\n    start() {\r\n        this.mount(this.root);\r\n    }\r\n\r\n    createStore(params) {\r\n        this.store = new Store(this, params);\r\n\r\n        return this;\r\n    }\r\n\r\n    registerTrigger(t) {\r\n        this.triggers[t.name] = t;\r\n    }\r\n\r\n    registerMutation(m) {\r\n        this.mutations[toCamelCase(m.name)] = m.apply;\r\n    }\r\n\r\n    getEmptyContext() {\r\n        let $ = this;\r\n        return {\r\n            $dom: new Proxy($.tags, {\r\n                get(subject, prop) {\r\n                    if(prop in subject) {\r\n                        return $.createMutableElement(document.getElementById(prop));\r\n                    }\r\n                }\r\n            }),\r\n            $el: null,\r\n            $data: null,\r\n            q (query) {\r\n                let el = $.root.querySelector(query);\r\n                return el ? $.createMutableElement(el) : undefined;\r\n            },\r\n            fetchText(url) {\r\n                return fetch(url).then(r => r.text());\r\n            },\r\n            fetchJson(url) {\r\n                return fetch(url).then(r => r.json());\r\n            },\r\n            $state: $.store ? $.store.state : undefined,\r\n            $dispatch (action, payload) {\r\n                if($.store) {\r\n                    $.store.dispatch(action, payload);\r\n                }\r\n                else {\r\n                    console.error('no store founded. call Engine.createStore before use $dispatch function');\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n    createMutableElement(el) {\r\n        let mutations = this.mutations;\r\n        let $ = this;\r\n        let subject = { $el: el };\r\n        for (const key in this.mutations) {\r\n            if (this.mutations.hasOwnProperty(key)) {\r\n                subject[key] = '';\r\n            }\r\n        }\r\n\r\n        return new Proxy(subject, {\r\n            set (s, prop, value) {\r\n                if(typeof mutations[prop] !== 'undefined') {\r\n                    mutations[prop](value, s.$el, $);\r\n                    return true;\r\n                }\r\n                return false;\r\n            },\r\n            get (s, prop) {\r\n                if(prop === '$el') {\r\n                    return s[prop];\r\n                }\r\n                if(prop === 'value') {\r\n                    return s.$el.value;\r\n                }\r\n                return undefined;\r\n            }\r\n        });\r\n    }\r\n\r\n    run(task, slot, data = null, callback = undefined, isArrowSyntax = false) {\r\n        let ctx = this.getEmptyContext();\r\n        ctx.$data = data;\r\n        ctx.$el = slot;\r\n\r\n        let tasks = (task || '').split('->');\r\n\r\n        if(tasks.length === 1) {\r\n            task = tasks[0];\r\n\r\n            if(isArrowSyntax) {\r\n                evaluate( task + ' = $data', ctx);\r\n            }\r\n            else {\r\n                if(callback) {\r\n                    let value = evaluateAndReturn(task, ctx);\r\n                    callback(value);\r\n                }\r\n                else {\r\n                    evaluate(task, ctx);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            let $ = this;\r\n            task = tasks.shift();\r\n            //check if task contain only white space\r\n            if(!task.replace(/\\s/g, '').length) {\r\n                task = \"$data\";\r\n            }\r\n\r\n            evaluateAndPromise(task, ctx)\r\n            .then(d => { $.run(tasks.join('->'), slot, d, callback, true); });\r\n        }\r\n    }\r\n\r\n    dispatch(el, event, data) {\r\n        el.dispatchEvent(new CustomEvent(event, {\r\n            detail: data, bubbles: true\r\n        }));\r\n    }\r\n\r\n    mount(el) {\r\n        let $ = this;\r\n        crawl(el, (e) => {\r\n            if(e.id && !e._uijx_initiated) {\r\n                $.tags[toCamelCase(e.id)] = '';\r\n                for(let i=0; i < e.attributes.length; i++) {\r\n                    let a = e.attributes[i];\r\n                    if(TriggerAttribRE.test(a.name)) { \r\n                        let info = new TriggerInfo(e, a.name);\r\n                        let trigger = $.triggers[info.trigger] || $.triggers['event'];\r\n                        if(trigger) {\r\n                            let target = null;\r\n                            if(trigger.attachTo === 'document')\r\n                                target = document;\r\n                            else if(trigger.attachTo === 'root')\r\n                                target = $.root;\r\n                            else if(trigger.attachTo === 'self')\r\n                                target = e;\r\n                            else\r\n                                target = (new RegExp('^' + trigger.attachTo + '$')).test(e.nodeName.toUpperCase()) ? e :null;\r\n\r\n                            if(target) {\r\n                                let ev = toKebabCase(trigger.event || info.trigger);\r\n                            \r\n                                target.addEventListener(ev, (event) => {\r\n                                    if(trigger.waiting) {\r\n                                        $.dispatch(e, 'waiting', { waiting: true, slot: e });\r\n                                    }\r\n                                    \r\n                                    trigger.handle($.createMutableElement(e), event, info, $, () => {\r\n                                        if(trigger.waiting) {\r\n                                            $.dispatch(e, 'waiting', { waiting: false, slot: e });\r\n                                        }\r\n                                    })\r\n                                });\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                e._uijx_initiated = true;\r\n            }\r\n        })\r\n        ;\r\n    }\r\n}\r\n\r\nexport class TriggerInfo {\r\n\r\n    constructor(el, attribute) {\r\n        let matches = TriggerAttribRE.exec(attribute);\r\n        if(matches) {\r\n            this.trigger = matches[1];\r\n            this.modifiers = matches[2] || '';\r\n            this.after = getDataAttribute(el, this.trigger + '-after');\r\n            this.before = getDataAttribute(el, this.trigger + '-before');\r\n            this.error = getDataAttribute(el,this.trigger + '-error');\r\n            this.task = el.getAttribute(attribute);\r\n        }\r\n        else\r\n            throw new Error('\"' + attribute + '\" is not a valid trigger attribute');\r\n    }\r\n\r\n    getModifierList() {\r\n        return this.rawModifiers.split('.');\r\n    }\r\n\r\n    hasModifier(modifier) {\r\n        return this.modifiers.indexOf('.' + modifier) >= 0;\r\n    }\r\n\r\n    containModifiers() {\r\n        return this.modifiers.trim().length !== 0;\r\n    }\r\n}\r\n","export default {\r\n    name: 'event',\r\n    attachTo: 'self',\r\n    event: null,\r\n    waiting: true,\r\n    handle (slot, event, info, $, callback) {\r\n        let data = undefined;\r\n        \r\n        if(['blur', 'change', 'focus', 'keydown', 'keyup'].indexOf(event.type) >= 0) {\r\n            data = slot.$el.value;\r\n        }\r\n\r\n        $.run(info.before, slot, data, (d) => {\r\n            d = d || data;\r\n            if(info.hasModifier('prevent')) {\r\n                event.preventDefault();\r\n            }\r\n\r\n            $.run(info.task,slot, d, (d) => $.run(info.after, slot, d, callback));\r\n        });\r\n    }\r\n}","import 'whatwg-fetch';\r\nimport 'promise-polyfill/src/polyfill';\r\n\r\nexport default {\r\n    name: 'link',\r\n    attachTo: 'A',\r\n    event: 'click',\r\n    waiting: true,\r\n    handle (slot, event, info, $, callback) {\r\n        event.preventDefault();\r\n        let data = undefined;\r\n\r\n        $.run(info.before, slot, data, (d) => {\r\n            let href = slot.$el.getAttribute('href');\r\n            fetch(href)\r\n                .then(r => {\r\n                    let p;\r\n                    if(info.hasModifier('json'))\r\n                        p = r.json();\r\n                    else if(info.hasModifier('blob'))\r\n                        p = r.blob();\r\n                    else if(info.hasModifier('buffer'))\r\n                        p = r.arrayBuffer();\r\n                    else\r\n                        p = r.text();\r\n                    \r\n                    return p.then(content => ({status: r.status, content}));\r\n                })\r\n                .then(({status, content})=> {\r\n                    if(status >= 400) {\r\n                        if(info.error) {\r\n                            $.run(info.error,slot, content, (d) => $.run(info.after, slot, d, callback));\r\n                        }\r\n                        else {\r\n                            throw new Error('error after fetching ressource. use the error hook to query the request result');\r\n                        }\r\n                    }\r\n                    else {\r\n                        $.run(info.task,slot, content, (d) => $.run(info.after, slot, d, callback));\r\n                    }\r\n                })\r\n                .catch(e => {\r\n                    console.error(e);\r\n                })\r\n            ;\r\n        });\r\n    }\r\n}\r\n","import 'whatwg-fetch';\r\nimport 'promise-polyfill/src/polyfill';\r\nimport { serializeForm, encodeUriParameters } from '../helpers';\r\n\r\nexport default {\r\n    name: 'form',\r\n    attachTo: 'FORM',\r\n    event: 'submit',\r\n    waiting: true,\r\n    handle (slot, event, info, $, callback) {\r\n        event.preventDefault();\r\n        let data = undefined;\r\n\r\n        $.run(info.before, slot, data, (d) => {\r\n            let url = slot.$el.getAttribute('action');\r\n            let method = slot.$el.getAttribute('method') || 'GET';\r\n            method = method.toUpperCase();\r\n            let fdata = new FormData(slot.$el);\r\n\r\n            let req;\r\n            if(method === 'GET') {\r\n                url += '?' + encodeUriParameters(serializeForm(fdata));\r\n                req = fetch(url);\r\n            }\r\n            else {\r\n                req = fetch(url, {\r\n                    method: method,\r\n                    body: info.hasModifier('serialize') ? JSON.stringify(serializeForm(fdata)) : fdata\r\n                })\r\n            }\r\n            \r\n            req\r\n                .then(r => {\r\n                    let p;\r\n                    if(info.hasModifier('json'))\r\n                        p = r.json();\r\n                    else if(info.hasModifier('blob'))\r\n                        p = r.blob();\r\n                    else if(info.hasModifier('buffer'))\r\n                        p = r.arrayBuffer();\r\n                    else\r\n                        p = r.text();\r\n                    \r\n                    return p.then(content => ({status: r.status, content}));\r\n                })\r\n                .then(({status, content})=> {\r\n                    if(status >= 400) {\r\n                        if(info.error) {\r\n                            $.run(info.error,slot, content, (d) => $.run(info.after, slot, d, callback));\r\n                        }\r\n                        else {\r\n                            throw new Error('error after fetching ressource. use the error hook to query the request result');\r\n                        }\r\n                    }\r\n                    else {\r\n                        $.run(info.task,slot, content, (d) => $.run(info.after, slot, d, callback));\r\n                    }\r\n                })\r\n                .catch(e => {\r\n                    console.error(e);\r\n                })\r\n            ;\r\n        });\r\n    }\r\n}\r\n","export default {\r\n    name: 'waiting',\r\n    attachTo: 'document',\r\n    event: 'waiting',\r\n    waiting: false,\r\n    handle (slot, event, info, $, callback) {\r\n        let data = event.detail.waiting;\r\n\r\n        if(info.hasModifier(event.detail.slot.id) || !info.containModifiers()) {\r\n            \r\n            $.run(info.before, slot, data, (d) => {\r\n                d = d || data;\r\n        \r\n                $.run(info.task,slot, d, (d) => $.run(info.after, slot, d, callback));\r\n            });\r\n        }\r\n    }\r\n}\r\n","export default {\r\n    name: 'mutation',\r\n    attachTo: 'document',\r\n    event: 'dom-mutated',\r\n    waiting: false,\r\n    handle (slot, event, info, $, callback) {\r\n        let data = undefined;\r\n\r\n        if(info.hasModifier(event.detail.target.id) || !info.containModifiers()) {\r\n            \r\n            $.run(info.before, slot, data, (d) => {\r\n                d = d || data;\r\n        \r\n                $.run(info.task,slot, d, (d) => $.run(info.after, slot, d, callback));\r\n            });\r\n        }\r\n    }\r\n}\r\n","export default {\r\n    name: 'state-change',\r\n    attachTo: 'document',\r\n    event: 'state-change',\r\n    waiting: false,\r\n    handle (slot, event, info, $, callback) {\r\n        let data = event.detail.value;\r\n\r\n        if(info.hasModifier(event.detail.state) || !info.containModifiers()) {\r\n            \r\n            $.run(info.before, slot, data, (d) => {\r\n                d = d || data;\r\n        \r\n                $.run(info.task,slot, d, (d) => $.run(info.after, slot, d, callback));\r\n            });\r\n        }\r\n    }\r\n}","import { toKebabCase } from \"./helpers\";\r\n\r\nexport const SHOW = {\r\n    name: 'show',\r\n    apply (data, el, $) {\r\n        el.style.display =  data ? 'block' : 'none';\r\n\r\n        $.dispatch(el, 'dom-mutated', { mutation: 'show', target: el });\r\n    }\r\n}\r\n\r\nexport const TOGGLE = {\r\n    name: 'toggle',\r\n    apply (data, el, $) {\r\n        if (el.style.display === \"none\") {\r\n            el.style.display = \"block\";\r\n        } else {\r\n            el.style.display = \"none\";\r\n        }\r\n\r\n        $.dispatch(el, 'dom-mutated', { mutation: 'toggle', target: el });\r\n    }\r\n}\r\n\r\nexport const ADDCLASS = {\r\n    name: 'add-class',\r\n    apply (data, el, $) {\r\n        if(typeof data === 'string') {\r\n            data = data.split(' ');\r\n        }\r\n        for(const i in data) {\r\n            el.classList.add(data[i]);\r\n        }\r\n\r\n        $.dispatch(el, 'dom-mutated', { mutation: 'add-class', target: el });\r\n    }\r\n}\r\n\r\nexport const RMCLASS = {\r\n    name: 'rm-class',\r\n    apply (data, el, $) {\r\n        if(typeof data === 'string') {\r\n            data = data.split(' ');\r\n        }\r\n        for(const i in data) {\r\n            el.classList.remove(data[i]);\r\n        }\r\n\r\n        $.dispatch(el, 'dom-mutated', { mutation: 'rm-class', target: el });\r\n    }\r\n}\r\n\r\nexport const TOGGLECLASS = {\r\n    name: 'toggle-class',\r\n    apply (data, el, $) {\r\n        if(typeof data === 'string') {\r\n            data = data.split(' ');\r\n        }\r\n        for(const i in data) {\r\n            el.classList.toggle(data[i]);\r\n        }\r\n\r\n        $.dispatch(el, 'dom-mutated', { mutation: 'toggle-class', target: el });\r\n    }\r\n}\r\n\r\nexport const VISIBLE = {\r\n    name: 'visible',\r\n    apply (data, el, $) {\r\n        el.style.visibility =  data ? 'visible' : 'hidden';\r\n\r\n        $.dispatch(el, 'dom-mutated', { mutation: 'visible', target: el });\r\n    }\r\n}\r\n\r\nexport const STYLE = {\r\n    name: 'style',\r\n    apply (data, el, $) {\r\n        for(const prop in data) {\r\n            el.style[toKebabCase(prop)] = data[prop];\r\n        }\r\n\r\n        $.dispatch(el, 'dom-mutated', { mutation: 'style', target: el });\r\n    }\r\n}\r\n\r\nexport const CLASSES = {\r\n    name: 'classes',\r\n    apply (data, el, $) {\r\n        for(const prop in data) {\r\n            if(data[prop]) {\r\n                el.classList.add(prop);\r\n            }\r\n            else {\r\n                el.classList.remove(prop);\r\n            }\r\n        }\r\n\r\n        $.dispatch(el, 'dom-mutated', { mutation: 'classes', target: el });\r\n    }\r\n}\r\n\r\nexport const ATTRIB = {\r\n    name: 'attrib',\r\n    apply (data, el, $) {\r\n        for(const prop in data) {\r\n            el.setAttribute(toKebabCase(prop), data[prop]);\r\n        }\r\n\r\n        $.dispatch(el, 'dom-mutated', { mutation: 'attrib', target: el });\r\n    }\r\n}\r\n\r\nexport const VALUE = {\r\n    name: 'value',\r\n    apply (data, el, $) {\r\n        el.value = data;\r\n\r\n        $.dispatch(el, 'dom-mutated', { mutation: 'value', target: el });\r\n    }\r\n}\r\n\r\nexport const TEXT = {\r\n    name: 'text',\r\n    apply (data, el, $) {\r\n        el.innerText = data;\r\n\r\n        $.dispatch(el, 'dom-mutated', { mutation: 'text', target: el });\r\n    }\r\n}\r\n\r\nexport const HTML = {\r\n    name: 'html',\r\n    apply (data, el, $) {\r\n        el.innerHTML = data;\r\n        \r\n        $.mount(el);\r\n\r\n        $.dispatch(el, 'dom-mutated', { mutation: 'html', target: el });\r\n    }\r\n}\r\n\r\nexport const BEFORE = {\r\n    name: 'before',\r\n    apply (data, el, $) {\r\n        el.insertAdjacentHTML('beforebegin', data);;\r\n        \r\n        $.mount(el);\r\n\r\n        $.dispatch(el, 'dom-mutated', { mutation: 'before', target: el });\r\n    }\r\n}\r\n\r\nexport const AFTER = {\r\n    name: 'after',\r\n    apply (data, el, $) {\r\n        el.insertAdjacentHTML('afterend', data);;\r\n        \r\n        $.mount(el);\r\n\r\n        $.dispatch(el, 'dom-mutated', { mutation: 'after', target: el });\r\n    }\r\n}\r\n\r\nexport const APPEND = {\r\n    name: 'append',\r\n    apply (data, el, $) {\r\n        el.insertAdjacentHTML('beforeend', data);;\r\n        \r\n        $.mount(el);\r\n\r\n        $.dispatch(el, 'dom-mutated', { mutation: 'append', target: el });\r\n    }\r\n}\r\n\r\nexport const PREPEND = {\r\n    name: 'prepend',\r\n    apply (data, el, $) {\r\n        el.insertAdjacentHTML('afterbegin', data);;\r\n        \r\n        $.mount(el);\r\n\r\n        $.dispatch(el, 'dom-mutated', { mutation: 'prepend', target: el });\r\n    }\r\n}\r\n","import {Engine} from './src/core';\r\nimport event from './src/triggers/event';\r\nimport link from './src/triggers/link';\r\nimport form from './src/triggers/form';\r\nimport waiting from './src/triggers/waiting';\r\nimport mutation from './src/triggers/mutation';\r\nimport stateChanged from './src/triggers/stateChanged';\r\nimport { SHOW , TOGGLE, ADDCLASS, RMCLASS, TOGGLECLASS, VISIBLE, STYLE, CLASSES, ATTRIB, VALUE, TEXT, HTML, AFTER, BEFORE, PREPEND, APPEND } from './src/mutations';\r\n\r\nfunction Uijx(id) {\r\n    let root = document.getElementById(id);\r\n    \r\n    if(root){\r\n        let e = new Engine(root);\r\n        // register built-in triggers\r\n        e.registerTrigger(event);\r\n        e.registerTrigger(link);\r\n        e.registerTrigger(form);\r\n        e.registerTrigger(waiting);\r\n        e.registerTrigger(mutation);\r\n        e.registerTrigger(stateChanged);\r\n\r\n        //register built-in mutations\r\n        e.registerMutation(SHOW);\r\n        e.registerMutation(TOGGLE);\r\n        e.registerMutation(ADDCLASS);\r\n        e.registerMutation(RMCLASS);\r\n        e.registerMutation(TOGGLECLASS);\r\n        e.registerMutation(STYLE);\r\n        e.registerMutation(VISIBLE);\r\n        e.registerMutation(CLASSES);\r\n        e.registerMutation(ATTRIB);\r\n        e.registerMutation(VALUE);\r\n        e.registerMutation(TEXT);\r\n        e.registerMutation(HTML);\r\n        e.registerMutation(AFTER);\r\n        e.registerMutation(BEFORE);\r\n        e.registerMutation(APPEND);\r\n        e.registerMutation(PREPEND);\r\n\r\n        return e;\r\n    }\r\n    else\r\n        throw new Error('cannot find element with id: ' + id);\r\n}\r\n\r\nwindow[\"Uijx\"] = Uijx;"]}